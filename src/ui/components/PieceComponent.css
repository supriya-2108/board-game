.piece {
  font-size: 40px;
  cursor: grab;
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  touch-action: none;
  transition: all 0.3s var(--ease-smooth);
  transform: scale(1);
  will-change: transform, filter;
}

.piece:active {
  cursor: grabbing;
}

/* Player 1 pieces with cyan glow */
.piece.player-1 {
  color: var(--text-primary);
  filter: drop-shadow(0 0 3px rgba(0, 240, 255, 0.8))
          drop-shadow(0 0 6px rgba(0, 240, 255, 0.6))
          drop-shadow(0 0 10px rgba(0, 240, 255, 0.4));
}

/* Player 2 pieces with magenta glow */
.piece.player-2 {
  color: var(--text-primary);
  filter: drop-shadow(0 0 3px rgba(255, 0, 255, 0.8))
          drop-shadow(0 0 6px rgba(255, 0, 255, 0.6))
          drop-shadow(0 0 10px rgba(255, 0, 255, 0.4));
}

/* Hover state with intensified glow (50% increase) and scale */
.piece.player-1:hover {
  transform: scale(1.05);
  filter: drop-shadow(0 0 5px rgba(0, 240, 255, 1))
          drop-shadow(0 0 10px rgba(0, 240, 255, 0.9))
          drop-shadow(0 0 15px rgba(0, 240, 255, 0.6));
}

.piece.player-2:hover {
  transform: scale(1.05);
  filter: drop-shadow(0 0 5px rgba(255, 0, 255, 1))
          drop-shadow(0 0 10px rgba(255, 0, 255, 0.9))
          drop-shadow(0 0 15px rgba(255, 0, 255, 0.6));
}

/* Active/dragging state with reduced scale */
.piece.dragging,
.piece:active {
  transform: scale(0.95);
  cursor: grabbing;
}

.piece.player-1.dragging,
.piece.player-1:active {
  filter: drop-shadow(0 0 8px rgba(0, 240, 255, 1))
          drop-shadow(0 0 15px rgba(0, 240, 255, 0.8))
          drop-shadow(0 0 20px rgba(0, 240, 255, 0.5));
}

.piece.player-2.dragging,
.piece.player-2:active {
  filter: drop-shadow(0 0 8px rgba(255, 0, 255, 1))
          drop-shadow(0 0 15px rgba(255, 0, 255, 0.8))
          drop-shadow(0 0 20px rgba(255, 0, 255, 0.5));
}

/* Animation classes for piece movements */
.piece.animating-move {
  animation: piece-move 300ms var(--ease-smooth);
}

.piece.animating-capture {
  animation: piece-capture 400ms var(--ease-smooth) forwards;
}

.piece.animating-promotion {
  animation: pawn-promotion 600ms var(--ease-bounce);
}

.piece.player-2.animating-promotion {
  animation: pawn-promotion-magenta 600ms var(--ease-bounce);
}

/* Mobile: smaller pieces and reduced glow intensity (50% reduction) */
@media (max-width: 767px) {
  .piece {
    font-size: 28px;
  }

  /* Reduce glow intensity by 50% on mobile */
  .piece.player-1 {
    filter: drop-shadow(0 0 2px rgba(0, 240, 255, 0.4))
            drop-shadow(0 0 3px rgba(0, 240, 255, 0.3))
            drop-shadow(0 0 5px rgba(0, 240, 255, 0.2));
  }

  .piece.player-2 {
    filter: drop-shadow(0 0 2px rgba(255, 0, 255, 0.4))
            drop-shadow(0 0 3px rgba(255, 0, 255, 0.3))
            drop-shadow(0 0 5px rgba(255, 0, 255, 0.2));
  }

  .piece.player-1:hover {
    filter: drop-shadow(0 0 3px rgba(0, 240, 255, 0.5))
            drop-shadow(0 0 5px rgba(0, 240, 255, 0.45))
            drop-shadow(0 0 8px rgba(0, 240, 255, 0.3));
  }

  .piece.player-2:hover {
    filter: drop-shadow(0 0 3px rgba(255, 0, 255, 0.5))
            drop-shadow(0 0 5px rgba(255, 0, 255, 0.45))
            drop-shadow(0 0 8px rgba(255, 0, 255, 0.3));
  }

  .piece.player-1.dragging,
  .piece.player-1:active {
    filter: drop-shadow(0 0 4px rgba(0, 240, 255, 0.5))
            drop-shadow(0 0 8px rgba(0, 240, 255, 0.4))
            drop-shadow(0 0 10px rgba(0, 240, 255, 0.25));
  }

  .piece.player-2.dragging,
  .piece.player-2:active {
    filter: drop-shadow(0 0 4px rgba(255, 0, 255, 0.5))
            drop-shadow(0 0 8px rgba(255, 0, 255, 0.4))
            drop-shadow(0 0 10px rgba(255, 0, 255, 0.25));
  }
}

/* Desktop: larger pieces */
@media (min-width: 768px) {
  .piece {
    font-size: 50px;
  }
}
